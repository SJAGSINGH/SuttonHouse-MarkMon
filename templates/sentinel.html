<!-- SENTINEL STRIP (FULL WIDTH) -->
<div class="sentinel-strip" id="sentinel-card">
  <div class="sentinel-output" id="sentinel-output">Sentinel: SILENCE</div>
</div>

<!-- MESSAGE (1/3) + WATCHLIST (2/3) -->
<div class="ms-row">

  <div class="card" id="msg-card">
    <h3>Message System</h3>

    <div class="primary-text" id="msg-headline">WAITING</div>
    <div class="secondary-text" id="msg-subline">AWAITING — NO ACTIVE CONDITION</div>

    <div class="step-seq" id="msg-steps">
      <div class="step" data-step="1"><span class="n">1</span><span class="t">REGIME UNKNOWN</span></div>
      <div class="step" data-step="2"><span class="n">2</span><span class="t">REGIME CONFIRMED</span></div>
      <div class="step" data-step="3"><span class="n">3</span><span class="t">SETUP CONFIRMED</span></div>
      <div class="step" data-step="4"><span class="n">4</span><span class="t">SIGNAL CONFIRMED</span></div>
      <div class="step" data-step="5"><span class="n">5</span><span class="t">SETUP CLOSED</span></div>
    </div>

    <div class="transition" id="msg-transition">Waiting on regime state.</div>

    <div class="gmeta" style="margin-top:12px;">
      <strong>Rule:</strong> Macro decides direction. Message decides behaviour. Waiting means no action.
    </div>
  </div>

 <div class="stock-grid" id="stock-grid">
  {% for i in range(20) %}
    <div class="stock-item" data-slot="{{ i }}">
      <div class="stock-row">
      <div class="msa-label mono">—</div>
    <div class="stock-node grey"></div>
  </div>
  <div class="stock-label mono">—</div>
</div>
{% endfor %}
</div>


</div>
<!-- NODE DETAIL PANEL (commissioning / secret) -->
<div id="node-panel" class="node-panel hidden">
  <div class="node-panel__head">
    <div class="node-panel__title" id="np-title">SLOT —</div>
    <div class="node-panel__meta" id="np-meta">—</div>
    <button id="np-close" class="node-panel__close" aria-label="Close">×</button>
  </div>

  <div class="node-panel__body">
    <!-- quick facts -->
    <div class="np-facts" id="np-facts"></div>

    <!-- arrays -->
    <div class="np-arrays">
      <div class="np-arr-row" data-key="IND_X">
        <div class="np-arr-label">IND_X</div>
        <div class="np-arr-cells" id="np-IND_X"></div>
      </div>
      <div class="np-arr-row" data-key="IND_Y">
        <div class="np-arr-label">IND_Y</div>
        <div class="np-arr-cells" id="np-IND_Y"></div>
      </div>
      <div class="np-arr-row" data-key="INDX_DIV">
        <div class="np-arr-label">INDX_DIV</div>
        <div class="np-arr-cells" id="np-INDX_DIV"></div>
      </div>
      <div class="np-arr-row" data-key="MSA">
        <div class="np-arr-label">MSA</div>
        <div class="np-arr-cells" id="np-MSA"></div>
      </div>
      <div class="np-arr-row" data-key="JR">
        <div class="np-arr-label">JR</div>
        <div class="np-arr-cells" id="np-JR"></div>
      </div>
    </div>

    <!-- optional raw text (commissioning only) -->
    <pre class="np-raw hidden" id="np-raw"></pre>
  </div>
</div>

<!-- Commissioning Detail Rail (below nodes) -->
<div id="commission-rail" class="commission-rail hidden">
  <div class="cr-head">
    <div id="cr-title" class="cr-title">SLOT —</div>
    <div id="cr-meta"  class="cr-meta"></div>
  </div>

  <div class="cr-grid">
    <div class="cr-box"><div class="k">SRC</div><div id="cr-src" class="v">—</div></div>
    <div class="cr-box"><div class="k">TF</div><div id="cr-tf" class="v">—</div></div>
    <div class="cr-box"><div class="k">MSA</div><div id="cr-msa" class="v">—</div></div>
    <div class="cr-box"><div class="k">SETUP</div><div id="cr-setup" class="v">—</div></div>
    <div class="cr-box"><div class="k">SIGNAL</div><div id="cr-signal" class="v">—</div></div>
    <div class="cr-box"><div class="k">ENGINE</div><div id="cr-engine" class="v">—</div></div>
    <div class="cr-box cr-wide"><div class="k">DUMP</div><div id="cr-dump" class="v mono">—</div></div>
  </div>
</div>

<div class="cr-arrays" id="cr-arrays">
  <!-- JS will render 5 array cards here -->
</div>



<!-- ============================
     SCADA DEBUG PANEL
============================ -->
<div id="scada-debug" style="display:none; margin-top:20px;">
  <div class="card card-wide" style="border:1px solid #2a2a2a;">
    <h3>SCADA Debug (Handshake)</h3>

    <div class="badge-row" style="margin-top:0;">
      <div class="badge" id="dbg-socket">SOCKET: —</div>
      <div class="badge" id="dbg-last-ts">LAST TS: —</div>
      <div class="badge" id="dbg-age">AGE: —</div>
      <div class="badge" id="dbg-path">SOURCE: —</div>
    </div>

    <pre id="dbg-json" class="mono"
         style="margin-top:18px; font-size:12px; line-height:1.35; white-space:pre-wrap;"></pre>

    <div class="gmeta" style="margin-top:14px;">
      <strong>Purpose:</strong> Prove receive → broadcast → paint. Not an investment tool.
    </div>
  </div>
</div>
